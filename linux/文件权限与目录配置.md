## 5.1 用户和用户组

**产生原因：`linux`是多人多任务的系统**

**1.文件拥有者**

该功能的存在具有安全防护功能，文件拥有者的文件只是文件拥有者可以查看，比如书情书

**2.用户组**

用户组的存在可以在团队协同工作的时候分开俩个组，俩个组在同一个系统中工作，但是同一个团队可以查看文件，另一个团队不能查看该组的文件，反之亦然

**3.其他人概念**

区别于拥有者和用户组之外的一切都是其他人

## 5.2 Linux 文件权限概念

`linux`中的文件目录都是通过拥有的权限而是否可以阅读，修改，操作

可以通过`ls -al`来展示所有文件及其细节

![](linux/img/屏幕截图 2022-03-08 223419.png)

>r=read,w=write,x=execute
>
>最前面的d代表目录，l代表链接，—代表文件，后面的数字代表连接到的节点个数，后面分别是拥有者和用户组

---

### 5.2.2 如何修改文件属性与权限

修改的内容必须是`/etc/group`中存在用户组名字

- **`chgrp`：**修改文件所属用户组 （`change group`）

  ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 223106.png)

- **`chown`**：修改文件拥有者（`change owner`）

  ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 223619.png)

  什么时候使用`chown`或`chgrp`，当我们再给其他人复制文件的时候      `cp  源文件  目标文件` 比如说将文件`.bashrc`复制给其他用户组，文件名为`.bashrc_test`

  ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 224042.png)

  但是我们可以发现现在用户组和拥有者没有发生改变，其他用户仍然不可以操作，现在就需要用到修改用户组和拥有者的所属

- **`chmod`：**修改文件的权限，`SUID SGID SBIT`等特性（`change commod`）

  - **数字类型修改文件权限**

    - 文件权限有九种。其中 `owner group others 三种身份分别有 w r x 三种权限`

    > r : 4
    >
    > w : 2
    >
    > x : 1

    -  每种身份的三种权限是累加的

    >   owner  = `rwx` = 4+2+1 = 7  
    >
    >   group  = `rwx` = 4+2+1 = 7 
    >
    >   others = 0+0+0 = 0

    ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 225449.png)              

    如果权限变成`-rw-r--r--` 那么修改权限的数字就成为[4+2+0] [4+0+0] [4+0+0]   所以需要执行`chmod  644 filename`

  - **符号类修改文件权限**

    - 可以通过 u g o 代表身份权限，a代表全部身份

      | `chmod` | u   g  o | + (加入)   -(移除)  =(设置) | r w x | 文件或者目录 |
      | :-----: | :------: | :-------------------------: | :---: | :----------: |

      可以通  =  来设置各个用户的权限                 ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 230826.png)

      可以通过  +  来增加各个用户的权限

      ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 230840.png)

      可以通过   -   来移除各个用户的权限

      ![](D:\学习笔记\linux\img\屏幕截图 2022-03-08 230852.png)

### 5.2.3 目录与文件权限的意义

我们可以知道，对于文件来说，`r`代表的是可以读到文件的内容，`w`可以修改文件的内容，`x`可以执行文件；但是相对于目录来说，`r`也是表示我们可以看到文件的内容，`w`可以增删改查目录下的内容，`x`目录是无法执行的，所以这个权限表示的是可不可以进入这个目录当中，就像是一把钥匙一样，如果没有这个权限，就无法进入到该目录中也无法运用该目录下的文件，就像我实验的时候将`/usr/bin`这个目录的`x`权限去掉，导致无法应用各种命令结果只能重装

要区分目录权限和文件权限的作用，两者之间的关系

---

## 5.3 Linux目录配置

Linux为了方便统一制定了 F H S （file system hierarchy standard ）的标准 

|                    | 可分享（shareable）     | 不可分享（unshareable） |
| ------------------ | ----------------------- | ----------------------- |
| 不变（static）     | /usr(软件存放处)        | /etc(配置文件)          |
|                    | /opt(第三方辅助软件)    | /boot(启动与内核文件)   |
| 可变动（variable） | /var/mail(用户邮箱)     | /var/run(程序相关)      |
|                    | /var/spool/news(新闻组) | /var/lock(程序相关)     |

FHS定义的三层目录 

- /(root 根目录)：与启动系统有关
- /usr(unix software resource)：与软件安装/执行有关
- /var(varible)：与系统运行过程有关 
